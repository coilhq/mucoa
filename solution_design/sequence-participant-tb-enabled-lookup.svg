<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="846px" preserveAspectRatio="none" style="width:1104px;height:846px;background:#FFFFFF;" version="1.1" viewBox="0 0 1104 846" width="1104px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFF9" height="827.0078" style="stroke:#181818;stroke-width:0.5;" width="403.5" x="155" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="95" x="307.25" y="19.4951">Central-Ledger</text><rect fill="#F9FFF9" height="827.0078" style="stroke:#181818;stroke-width:0.5;" width="452.5" x="640" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50" x="839.25" y="19.4951">Storage</text><rect height="431.625" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1088.5" x="10" y="317.7734"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="82" x2="82" y1="89.9609" y2="766.3984"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="198" x2="198" y1="89.9609" y2="766.3984"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="315.5" x2="315.5" y1="89.9609" y2="766.3984"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="463.5" x2="463.5" y1="89.9609" y2="766.3984"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="707" x2="707" y1="89.9609" y2="766.3984"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="904.5" x2="904.5" y1="89.9609" y2="766.3984"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1010.5" x2="1010.5" y1="89.9609" y2="766.3984"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1067.5" x2="1067.5" y1="89.9609" y2="766.3984"/><rect fill="#B0D5FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="20" y="57.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="27" y="78.8848">Mojaloop Adapter</text><rect fill="#B0D5FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="20" y="765.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="27" y="786.9316">Mojaloop Adapter</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="159" y="39.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="180.5" y="61.2754">Kafka</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="166" y="78.8848">Consumer</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="159" y="765.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="180.5" y="786.9316">Kafka</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="166" y="804.541">Consumer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="268.5" y="57.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="19" x="275.5" y="78.8848">api</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="298.5" y="78.8848">/ Handler</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="268.5" y="765.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="19" x="275.5" y="786.9316">api</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="298.5" y="786.9316">/ Handler</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="372.5" y="39.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="409" y="61.2754">Application Layer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="379.5" y="78.8848">(domain / service / facade)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="372.5" y="765.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="409" y="786.9316">Application Layer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="379.5" y="804.541">(domain / service / facade)</text><rect fill="#D5E8D4" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="644" y="57.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="651" y="78.8848">TigerBeetle Client</text><rect fill="#D5E8D4" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="644" y="765.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="651" y="786.9316">TigerBeetle Client</text><rect fill="#D5E8D4" height="31.6094" style="stroke:#181818;stroke-width:0.5;" width="136" x="838.5" y="53.3516"/><rect fill="#D5E8D4" height="31.6094" style="stroke:#181818;stroke-width:0.5;" width="136" x="834.5" y="57.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="841.5" y="78.8848">TigerBeetle Cluster</text><rect fill="#D5E8D4" height="31.6094" style="stroke:#181818;stroke-width:0.5;" width="136" x="838.5" y="765.3984"/><rect fill="#D5E8D4" height="31.6094" style="stroke:#181818;stroke-width:0.5;" width="136" x="834.5" y="769.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="841.5" y="790.9316">TigerBeetle Cluster</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="984.5" y="86.8848">MySQL</text><path d="M992.5,36.3516 C992.5,26.3516 1010.5,26.3516 1010.5,26.3516 C1010.5,26.3516 1028.5,26.3516 1028.5,36.3516 L1028.5,62.3516 C1028.5,72.3516 1010.5,72.3516 1010.5,72.3516 C1010.5,72.3516 992.5,72.3516 992.5,62.3516 L992.5,36.3516 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.5;"/><path d="M992.5,36.3516 C992.5,46.3516 1010.5,46.3516 1010.5,46.3516 C1010.5,46.3516 1028.5,46.3516 1028.5,36.3516 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="984.5" y="779.9316">MySQL</text><path d="M992.5,793.0078 C992.5,783.0078 1010.5,783.0078 1010.5,783.0078 C1010.5,783.0078 1028.5,783.0078 1028.5,793.0078 L1028.5,819.0078 C1028.5,829.0078 1010.5,829.0078 1010.5,829.0078 C1010.5,829.0078 992.5,829.0078 992.5,819.0078 L992.5,793.0078 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.5;"/><path d="M992.5,793.0078 C992.5,803.0078 1010.5,803.0078 1010.5,803.0078 C1010.5,803.0078 1028.5,803.0078 1028.5,793.0078 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1046.5" y="86.8848">Redis</text><path d="M1049.5,36.3516 C1049.5,26.3516 1067.5,26.3516 1067.5,26.3516 C1067.5,26.3516 1085.5,26.3516 1085.5,36.3516 L1085.5,62.3516 C1085.5,72.3516 1067.5,72.3516 1067.5,72.3516 C1067.5,72.3516 1049.5,72.3516 1049.5,62.3516 L1049.5,36.3516 " fill="#E1D5E7" style="stroke:#181818;stroke-width:1.5;"/><path d="M1049.5,36.3516 C1049.5,46.3516 1067.5,46.3516 1067.5,46.3516 C1067.5,46.3516 1085.5,46.3516 1085.5,36.3516 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1046.5" y="779.9316">Redis</text><path d="M1049.5,793.0078 C1049.5,783.0078 1067.5,783.0078 1067.5,783.0078 C1067.5,783.0078 1085.5,783.0078 1085.5,793.0078 L1085.5,819.0078 C1085.5,829.0078 1067.5,829.0078 1067.5,829.0078 C1067.5,829.0078 1049.5,829.0078 1049.5,819.0078 L1049.5,793.0078 " fill="#E1D5E7" style="stroke:#181818;stroke-width:1.5;"/><path d="M1049.5,793.0078 C1049.5,803.0078 1067.5,803.0078 1067.5,803.0078 C1067.5,803.0078 1085.5,803.0078 1085.5,793.0078 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M19,104.9609 L19,146.9609 L146,146.9609 L146,114.9609 L136,104.9609 L19,104.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M136,104.9609 L136,114.9609 L146,114.9609 L136,104.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="25" y="123.4561">Participant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="25" y="139.8076">DFSP interactions</text><path d="M114,157.6641 L114,199.6641 L283,199.6641 L283,167.6641 L273,157.6641 L114,157.6641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M273,157.6641 L273,167.6641 L283,167.6641 L273,157.6641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="120" y="176.1592">Consume JSON</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="120" y="192.5107">requests from Kafka topic</text><path d="M231,210.3672 L231,252.3672 L399,252.3672 L399,220.3672 L389,210.3672 L231,210.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M389,210.3672 L389,220.3672 L399,220.3672 L389,210.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="237" y="228.8623">JSON request decoded &amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="237" y="245.2139">processed via handler</text><path d="M370,263.0703 L370,305.0703 L557,305.0703 L557,273.0703 L547,263.0703 L370,263.0703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M547,263.0703 L547,273.0703 L557,273.0703 L547,263.0703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="376" y="281.5654">Expose service functions &amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="376" y="297.917">handle database interactions</text><path d="M10,317.7734 L235,317.7734 L235,326.125 L225,336.125 L10,336.125 L10,317.7734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="431.625" style="stroke:#000000;stroke-width:1.5;" width="1088.5" x="10" y="317.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="180" x="25" y="332.2686">Lookup Participant by Name</text><polygon fill="#181818" points="186.5,370.8281,196.5,374.8281,186.5,378.8281,190.5,374.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="192.5" y1="374.8281" y2="374.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="89.5" y="361.7959">1</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="35" x="100.5" y="353.6201">JSON</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="135.5" y="353.6201"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="100.5" y="369.9717">(name)</text><polygon fill="#181818" points="303.5,401.1797,313.5,405.1797,303.5,409.1797,307.5,405.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="198.5" x2="309.5" y1="405.1797" y2="405.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="205.5" y="400.3232">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="216.5" y="400.3232">Invoke handler</text><polygon fill="#181818" points="451.5,431.5313,461.5,435.5313,451.5,439.5313,455.5,435.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="457.5" y1="435.5313" y2="435.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="322.5" y="430.6748">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="333.5" y="430.6748">Invoke service</text><polygon fill="#181818" points="474.5,461.8828,464.5,465.8828,474.5,469.8828,470.5,465.8828" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1055.5,461.8828,1065.5,465.8828,1055.5,469.8828,1059.5,465.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="1061.5" y1="465.8828" y2="465.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="480.5" y="461.0264">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="491.5" y="461.0264">Lookup Participant data from cache</text><polygon fill="#181818" points="474.5,508.5859,464.5,512.5859,474.5,516.5859,470.5,512.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="1009.5" y1="512.5859" y2="512.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="480.5" y="491.3779">If Participant data not cached, then</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="480.5" y="507.7295">retrieve from SQL (this excludes</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="46" x="669.5" y="507.7295">account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="719.5" y="507.7295">data)</text><polygon fill="#181818" points="1055.5,555.2891,1065.5,559.2891,1055.5,563.2891,1059.5,559.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="463.5" x2="1061.5" y1="559.2891" y2="559.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="470.5" y="538.0811">If not previously cached,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="470.5" y="554.4326">then cache Participant data</text><polygon fill="#181818" points="695.5,585.6406,705.5,589.6406,695.5,593.6406,699.5,589.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="463.5" x2="701.5" y1="589.6406" y2="589.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="470.5" y="584.7842">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="481.5" y="584.7842">Lookup</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="46" x="527.5" y="584.7842">account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="577.5" y="584.7842">using Participant ID</text><polygon fill="#181818" points="718.5,615.9922,708.5,619.9922,718.5,623.9922,714.5,619.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="712.5" x2="903.5" y1="619.9922" y2="619.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="724.5" y="615.1357">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="735.5" y="615.1357">Retrieve Participant</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="46" x="851.5" y="615.1357">account</text><polygon fill="#181818" points="474.5,646.3438,464.5,650.3438,474.5,654.3438,470.5,650.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="468.5" x2="706.5" y1="650.3438" y2="650.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="480.5" y="645.4873">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="491.5" y="645.4873">Return Participant</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="46" x="599.5" y="645.4873">account</text><polygon fill="#181818" points="326.5,676.6953,316.5,680.6953,326.5,684.6953,322.5,680.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="462.5" y1="680.6953" y2="680.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="332.5" y="675.8389">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="343.5" y="675.8389">Return result</text><polygon fill="#181818" points="209.5,707.0469,199.5,711.0469,209.5,715.0469,205.5,711.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="314.5" y1="711.0469" y2="711.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="215.5" y="706.1904">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="226.5" y="706.1904">Return result</text><polygon fill="#181818" points="93.5,737.3984,83.5,741.3984,93.5,745.3984,89.5,741.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87.5" x2="197.5" y1="741.3984" y2="741.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="99.5" y="736.542">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="117.5" y="736.542">Return result</text><!--MD5=[ed9c797e70d9fcfe2eb4e67b038c1a48]
@startuml

participant "Mojaloop Adapter" as dfsp #B0D5FF
note over dfsp
    Participant
    DFSP interactions
end note

box Central-Ledger #FFFFF9
    participant "Kafka\nConsumer" as cl_consume_kafka
        participant "__api__ / Handler" as cl_handler
        participant "Application Layer\n(domain / service / facade)" as cl_domain

        note over cl_consume_kafka
            Consume JSON
            requests from Kafka topic
        end note
    
        note over cl_handler
            JSON request decoded &
            processed via handler
        end note
    
        note over cl_domain
            Expose service functions &
            handle database interactions
        end note
end box

box Storage #F9FFF9
	Participant "TigerBeetle Client" as tb_client #D5E8D4
    collections "TigerBeetle Cluster" as tb_nodes #D5E8D4
	database "MySQL" as cl_db #DAE8FC
	database "Redis" as redis_cache #E1D5E7
end box

autonumber
group Lookup Participant by Name
    dfsp -> cl_consume_kafka : //JSON// \n**(name)**
    cl_consume_kafka -> cl_handler : Invoke handler
    cl_handler -> cl_domain : Invoke service
    cl_domain <- -> redis_cache : Lookup Participant data from cache
    autonumber stop
    cl_domain <- - cl_db : If Participant data not cached, then \nretrieve from SQL (this excludes //account// data)
    cl_domain -> redis_cache : If not previously cached, \nthen cache Participant data
    autonumber resume
    cl_domain -> tb_client : Lookup //account// using Participant ID
    tb_client <- - tb_nodes : Retrieve Participant //account//
    tb_client - -> cl_domain : Return Participant //account//
    cl_domain - -> cl_handler : Return result
    cl_handler - -> cl_consume_kafka : Return result
    cl_consume_kafka - -> dfsp : Return result
end

@enduml

PlantUML version 1.2022.4(Sat Apr 09 15:29:17 CAT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: ZA
--></g></svg>