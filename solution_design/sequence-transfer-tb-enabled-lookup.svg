<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="680px" preserveAspectRatio="none" style="width:799px;height:680px;background:#FFFFFF;" version="1.1" viewBox="0 0 799 680" width="799.2px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFF9" height="665.3688" style="stroke:#181818;stroke-width:0.4000000000000001;" width="357.2" x="177.6" y="4.8"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="76" x="316.6" y="15.5961">Central-Ledger</text><rect fill="#F9FFF9" height="665.3688" style="stroke:#181818;stroke-width:0.4000000000000001;" width="233.6" x="556" y="4.8"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="40" x="651.2" y="15.5961">Storage</text><rect height="349.0625" style="stroke:#000000;stroke-width:1.2000000000000002;fill:none;" width="776" x="18.4" y="254.2188"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="54.4" x2="54.4" y1="71.9688" y2="616.8813"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="212" x2="212" y1="71.9688" y2="616.8813"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="335.6" x2="335.6" y1="71.9688" y2="616.8813"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="458.8" x2="458.8" y1="71.9688" y2="616.8813"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="593.6" x2="593.6" y1="71.9688" y2="616.8813"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="700" x2="700" y1="71.9688" y2="616.8813"/><line style="stroke:#181818;stroke-width:0.4000000000000001;fill:none;stroke-dasharray:5.0,5.0;" x1="765.6" x2="765.6" y1="71.9688" y2="616.8813"/><rect fill="#B0D5FF" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="56.8" x="26.4" y="31.7938"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="45.6" x="32" y="49.0203">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="40" x="34.8" y="63.1078">Adapter</text><rect fill="#B0D5FF" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="56.8" x="26.4" y="616.0813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="45.6" x="32" y="633.3078">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="40" x="34.8" y="647.3953">Adapter</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="63.2" x="180.8" y="31.7938"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="28.8" x="198" y="49.0203">Kafka</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="52" x="186.4" y="63.1078">Consumer</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="63.2" x="180.8" y="616.0813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="28.8" x="198" y="633.3078">Kafka</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="52" x="186.4" y="647.3953">Consumer</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="75.2" x="298" y="45.8813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" text-decoration="underline" textLength="15.2" x="303.6" y="63.1078">api</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="45.6" x="322" y="63.1078">/ Handler</text><rect fill="#E2E2F0" height="25.2875" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="75.2" x="298" y="616.0813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" text-decoration="underline" textLength="15.2" x="303.6" y="633.3078">api</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="45.6" x="322" y="633.3078">/ Handler</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="145.6" x="386" y="31.7938"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="87.2" x="415.2" y="49.0203">Application Layer</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="134.4" x="391.6" y="63.1078">(domain / service / facade)</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="145.6" x="386" y="616.0813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="87.2" x="415.2" y="633.3078">Application Layer</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="134.4" x="391.6" y="647.3953">(domain / service / facade)</text><rect fill="#D5E8D4" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="69.6" x="559.2" y="31.7938"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="58.4" x="564.8" y="49.0203">TigerBeetle</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="28.8" x="579.6" y="63.1078">Client</text><rect fill="#D5E8D4" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="69.6" x="559.2" y="616.0813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="58.4" x="564.8" y="633.3078">TigerBeetle</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="28.8" x="579.6" y="647.3953">Client</text><rect fill="#D5E8D4" height="39.375" style="stroke:#181818;stroke-width:0.4000000000000001;" width="69.6" x="667.2" y="28.5938"/><rect fill="#D5E8D4" height="39.375" style="stroke:#181818;stroke-width:0.4000000000000001;" width="69.6" x="664" y="31.7938"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="58.4" x="669.6" y="49.0203">TigerBeetle</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="36" x="680.8" y="63.1078">Cluster</text><rect fill="#D5E8D4" height="39.375" style="stroke:#181818;stroke-width:0.4000000000000001;" width="69.6" x="667.2" y="616.0813"/><rect fill="#D5E8D4" height="39.375" style="stroke:#181818;stroke-width:0.4000000000000001;" width="69.6" x="664" y="619.2813"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="58.4" x="669.6" y="636.5078">TigerBeetle</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="36" x="680.8" y="650.5953">Cluster</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="36.8" x="744.8" y="69.5078">MySQL</text><path d="M751.2,29.0813 C751.2,21.0813 765.6,21.0813 765.6,21.0813 C765.6,21.0813 780,21.0813 780,29.0813 L780,49.8813 C780,57.8813 765.6,57.8813 765.6,57.8813 C765.6,57.8813 751.2,57.8813 751.2,49.8813 L751.2,29.0813 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.2000000000000002;"/><path d="M751.2,29.0813 C751.2,37.0813 765.6,37.0813 765.6,37.0813 C765.6,37.0813 780,37.0813 780,29.0813 " fill="none" style="stroke:#181818;stroke-width:1.2000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="36.8" x="744.8" y="627.7078">MySQL</text><path d="M751.2,638.1688 C751.2,630.1688 765.6,630.1688 765.6,630.1688 C765.6,630.1688 780,630.1688 780,638.1688 L780,658.9688 C780,666.9688 765.6,666.9688 765.6,666.9688 C765.6,666.9688 751.2,666.9688 751.2,658.9688 L751.2,638.1688 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.2000000000000002;"/><path d="M751.2,638.1688 C751.2,646.1688 765.6,646.1688 765.6,646.1688 C765.6,646.1688 780,646.1688 780,638.1688 " fill="none" style="stroke:#181818;stroke-width:1.2000000000000002;"/><path d="M4,83.9688 L4,117.5688 L105.6,117.5688 L105.6,91.9688 L97.6,83.9688 L4,83.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M97.6,83.9688 L97.6,91.9688 L105.6,91.9688 L97.6,83.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="49.6" x="8.8" y="98.7648">Participant</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="84.8" x="8.8" y="111.8461">DFSP interactions</text><path d="M144.8,126.1313 L144.8,159.7313 L280,159.7313 L280,134.1313 L272,126.1313 L144.8,126.1313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M272,126.1313 L272,134.1313 L280,134.1313 L272,126.1313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="74.4" x="149.6" y="140.9273">Consume JSON</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="118.4" x="149.6" y="154.0086">requests from Kafka topic</text><path d="M268,168.2938 L268,201.8938 L402.4,201.8938 L402.4,176.2938 L394.4,168.2938 L268,168.2938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M394.4,168.2938 L394.4,176.2938 L402.4,176.2938 L394.4,168.2938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="117.6" x="272.8" y="183.0898">JSON request decoded &amp;</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="100" x="272.8" y="196.1711">processed via handler</text><path d="M384,210.4563 L384,244.0563 L533.6,244.0563 L533.6,218.4563 L525.6,210.4563 L384,210.4563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M525.6,210.4563 L525.6,218.4563 L533.6,218.4563 L525.6,210.4563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="125.6" x="388.8" y="225.2523">Expose service functions &amp;</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="132.8" x="388.8" y="238.3336">handle database interactions</text><path d="M18.4,254.2188 L165.6,254.2188 L165.6,260.9 L157.6,268.9 L18.4,268.9 L18.4,254.2188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2000000000000002;"/><rect fill="none" height="349.0625" style="stroke:#000000;stroke-width:1.2000000000000002;" width="776" x="18.4" y="254.2188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="111.2" x="30.4" y="265.8148">Lookup Transfer by ID</text><polygon fill="#181818" points="202.8,296.6625,210.8,299.8625,202.8,303.0625,206,299.8625" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="54.8" x2="207.6" y1="299.8625" y2="299.8625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="60.4" y="289.4367">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" lengthAdjust="spacing" textLength="28" x="69.2" y="282.8961">JSON</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="97.2" y="282.8961"> </text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="16" x="69.2" y="295.9773">(id)</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="16.8" x="88.4" y="295.9773">and</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="90.4" x="108.4" y="295.9773">(participantName)</text><polygon fill="#181818" points="326,320.9438,334,324.1438,326,327.3438,329.2,324.1438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="212.4" x2="330.8" y1="324.1438" y2="324.1438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="218" y="320.2586">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="65.6" x="226.8" y="320.2586">Invoke handler</text><polygon fill="#181818" points="449.2,345.225,457.2,348.425,449.2,351.625,452.4,348.425" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="335.6" x2="454" y1="348.425" y2="348.425"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="341.2" y="344.5398">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="64" x="350" y="344.5398">Invoke service</text><polygon fill="#181818" points="584.4,369.5063,592.4,372.7063,584.4,375.9063,587.6,372.7063" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="458.8" x2="589.2" y1="372.7063" y2="372.7063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="464.4" y="368.8211">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="28.8" x="473.2" y="368.8211">Invoke</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" lengthAdjust="spacing" textLength="35.2" x="505.2" y="368.8211">transfer</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="30.4" x="543.6" y="368.8211">lookup</text><polygon fill="#181818" points="602.8,406.8688,594.8,410.0688,602.8,413.2688,599.6,410.0688" style="stroke:#181818;stroke-width:0.8000000000000002;"/><polygon fill="#181818" points="690.8,406.8688,698.8,410.0688,690.8,413.2688,694,410.0688" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="598" x2="695.6" y1="410.0688" y2="410.0688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.6" y="399.643">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="36.8" x="616.4" y="393.1023">Retrieve</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" lengthAdjust="spacing" textLength="35.2" x="656.4" y="393.1023">transfer</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="691.6" y="393.1023"> </text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="60" x="616.4" y="406.1836">account data</text><polygon fill="#181818" points="467.6,444.2313,459.6,447.4313,467.6,450.6313,464.4,447.4313" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="462.8" x2="593.2" y1="447.4313" y2="447.4313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="472.4" y="437.0055">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="30.4" x="481.2" y="430.4648">Return</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" lengthAdjust="spacing" textLength="35.2" x="514.8" y="430.4648">transfer</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="550" y="430.4648"> </text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="107.2" x="481.2" y="443.5461">account data (or result)</text><polygon fill="#181818" points="467.6,481.5938,459.6,484.7938,467.6,487.9938,464.4,484.7938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><polygon fill="#181818" points="756,481.5938,764,484.7938,756,487.9938,759.2,484.7938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="462.8" x2="760.8" y1="484.7938" y2="484.7938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="472.4" y="474.368">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="84.8" x="481.2" y="467.8273">Retrieve remaining</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" lengthAdjust="spacing" textLength="35.2" x="569.2" y="467.8273">transfer</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="67.2" x="607.6" y="467.8273">data from SQL</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="59.2" x="481.2" y="480.9086">(OPTIONAL)</text><polygon fill="#181818" points="344.4,518.9563,336.4,522.1563,344.4,525.3563,341.2,522.1563" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="339.6" x2="458" y1="522.1563" y2="522.1563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="349.2" y="511.7305">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="30.4" x="358" y="505.1898">Return</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" lengthAdjust="spacing" textLength="35.2" x="391.6" y="505.1898">transfer</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="20" x="430" y="505.1898">data</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="44" x="358" y="518.2711">(or result)</text><polygon fill="#181818" points="221.2,556.3188,213.2,559.5188,221.2,562.7188,218,559.5188" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="216.4" x2="334.8" y1="559.5188" y2="559.5188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="226" y="549.093">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="30.4" x="234.8" y="542.5523">Return</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" lengthAdjust="spacing" textLength="35.2" x="268.4" y="542.5523">transfer</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="20" x="306.8" y="542.5523">data</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="44" x="234.8" y="555.6336">(or result)</text><polygon fill="#181818" points="63.6,593.6813,55.6,596.8813,63.6,600.0813,60.4,596.8813" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="58.8" x2="211.6" y1="596.8813" y2="596.8813"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="68.4" y="586.4555">10</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="30.4" x="82.8" y="579.9148">Return</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-style="italic" lengthAdjust="spacing" textLength="35.2" x="116.4" y="579.9148">transfer</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="20" x="154.8" y="579.9148">data</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="44" x="82.8" y="592.9961">(or result)</text><!--MD5=[8d061da30a5018769b4e2b8fc509cd5c]
@startuml

participant "Mojaloop\nAdapter" as dfsp #B0D5FF
note over dfsp
    Participant
    DFSP interactions
end note

box Central-Ledger #FFFFF9
    participant "Kafka\nConsumer" as cl_consume_kafka
    participant "__api__ / Handler" as cl_handler
    participant "Application Layer\n(domain / service / facade)" as cl_domain

        note over cl_consume_kafka
            Consume JSON
            requests from Kafka topic
        end note

        note over cl_handler
            JSON request decoded &
            processed via handler
        end note

        note over cl_domain
            Expose service functions &
            handle database interactions
        end note
end box

box Storage #F9FFF9
	participant "TigerBeetle\nClient" as tb_client #D5E8D4
    collections "TigerBeetle\nCluster" as tb_nodes #D5E8D4
    database "MySQL" as cl_db #DAE8FC
end box

autonumber
group Lookup Transfer by ID
    dfsp -> cl_consume_kafka : //JSON// \n**(id)** and **(participantName)**
    cl_consume_kafka -> cl_handler : Invoke handler
    cl_handler -> cl_domain : Invoke service
    cl_domain -> tb_client : Invoke //transfer// lookup
    tb_client <-> tb_nodes : Retrieve //transfer// \naccount data
    tb_client - -> cl_domain : Return //transfer// \naccount data (or result)
    cl_domain <- -> cl_db : Retrieve remaining //transfer// data from SQL\n**//(OPTIONAL)//**
    cl_domain - -> cl_handler : Return //transfer// data \n(or result)
    cl_handler - -> cl_consume_kafka : Return //transfer// data \n(or result)
    cl_consume_kafka - -> dfsp : Return //transfer// data \n(or result)
end

@enduml

PlantUML version 1.2022.4(Sat Apr 09 15:29:17 CAT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: ZA
--></g></svg>